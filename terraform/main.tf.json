{"terraform": {"required_providers": {"aws": {"source": "hashicorp/aws", "version": "~> 4.16"}}, "required_version": ">= 1.2.0"}, "provider": {"aws": {"profile": "eleve.isep.free", "region": "ap-southeast-2"}}, "locals": {"name_suffix": "-air-quality-dev", "tags": {"project": "air-quality", "environement": "dev"}}, "module": [{"db_dynamo": {"hash_key_name": "DeviceID", "hash_key_type": "S", "isstream": true, "name_suffix": "${local.name_suffix}", "read_capacity": 20, "sort_key_name": "Timestamp", "sort_key_type": "N", "source": "./modules/db_dynamo", "stream_type": "NEW_IMAGE", "table_name": "SensorData", "tags": "${local.tags}", "write_capacity": 20}}, {"api": {"get": {"file_path": "./lambdas_archives/point_query.zip", "handler": "point_query.lambda_handler", "memory_size": 128, "runtime": "python3.9", "timeout": 10}, "name_suffix": "${local.name_suffix}", "post": {"file_path": "./lambdas_archives/point_put.zip", "handler": "point_put.lambda_handler", "memory_size": 128, "runtime": "python3.9", "timeout": 5}, "ressource_name": "sensor", "source": "./modules/api", "stage_name": "v1", "table": "${module.db_dynamo.table}", "tags": "${local.tags}"}}, {"websocket": {"manager": {"file_path": "./lambdas_archives/websocket_manager.zip", "handler": "websocket_manager.handler", "memory_size": 128, "runtime": "python3.9", "timeout": 5}, "message": {"file_path": "./lambdas_archives/websocket_message.zip", "handler": "websocket_message.handler", "memory_size": 128, "runtime": "python3.9", "timeout": 20}, "name_suffix": "${local.name_suffix}", "source": "./modules/websocket", "stage_name": "v1", "table": "${module.db_dynamo.table}", "tags": "${local.tags}"}}], "resource": {"aws_resourcegroups_group": {"indoor-air-rg": {"name": "RG-air-quality-dev", "resource_query": {"query": "{\"ResourceTypeFilters\": [\"AWS::AllSupported\"], \"TagFilters\": [{\"Key\": \"project\", \"Values\": [\"air-quality\"]}]}"}}}}}